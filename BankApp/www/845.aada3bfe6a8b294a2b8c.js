(self.webpackChunkBankApp=self.webpackChunkBankApp||[]).push([[845],{9258:(t,e,n)=>{"use strict";n.d(e,{K:()=>o});var i=n(6274),r=n(5401),s=n(4988),a=n(3606);let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[i.ez,r.Pc,s.u5]]}),t})()},3059:(t,e,n)=>{"use strict";n.d(e,{f:()=>d});var i=n(1855),r=n(3606),s=n(5401),a=n(5264),o=n(6274);function c(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",1),r.TgZ(3,"ion-button",2),r.NdJ("click",function(){return r.CHM(t),r.oxw().regresar()}),r._UZ(4,"ion-icon",3),r.TgZ(5,"ion-label"),r._uU(6,"Regresar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}function u(t,e){if(1&t&&(r.TgZ(0,"ion-list",5),r.TgZ(1,"ion-card"),r.TgZ(2,"ion-card-header"),r.TgZ(3,"ion-card-subtitle"),r._uU(4),r.qZA(),r.TgZ(5,"ion-card-title"),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"ion-card-content"),r.TgZ(8,"p"),r._uU(9),r.qZA(),r.TgZ(10,"p"),r._uU(11),r.qZA(),r.TgZ(12,"p"),r._uU(13),r.qZA(),r.TgZ(14,"ion-item"),r.TgZ(15,"ion-label"),r._uU(16,"Cantidad: "),r.qZA(),r.TgZ(17,"span",6),r._uU(18),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(4),r.Oqu(t.fecha),r.xp6(2),r.Oqu(t.id),r.xp6(3),r.Oqu(t.descripcion),r.xp6(2),r.AsE("Remitente: ",t.remitente," ",t.cuentaRemi," "),r.xp6(2),r.AsE("Destinatario: ",t.destinatario," ",t.cuentaDest,""),r.xp6(5),r.hij("Q ",t.cantidad,"")}}function l(t,e){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,u,19,8,"ion-list",4),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.transferencias)}}let d=(()=>{class t{constructor(t,e){this.modalController=t,this.storage=e,this.currentUser={usuario:void 0,isAdmin:!1},this.init()}init(){return(0,i.mG)(this,void 0,void 0,function*(){this.currentUser=yield this.storage.getCurrentUser()})}ionViewWillEnter(){return(0,i.mG)(this,void 0,void 0,function*(){yield this.init()})}regresar(){this.modalController.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.IN),r.Y36(a.q))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-historial-transacciones"]],inputs:{transferencias:"transferencias",numeroCuenta:"numeroCuenta",isAdmin:"isAdmin",menu:"menu"},decls:3,vars:2,consts:[[4,"ngIf"],["slot","start"],["slot","start","color","primary",3,"click"],["slot","start","name","arrow-back-circle-outline"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","end"]],template:function(t,e){1&t&&(r.YNc(0,c,7,0,"ion-header",0),r.TgZ(1,"ion-content"),r.YNc(2,l,2,1,"div",0),r.qZA()),2&t&&(r.Q6J("ngIf",e.menu),r.xp6(2),r.Q6J("ngIf",void 0!==e.transferencias&&void 0!==e.currentUser.usuario))},directives:[o.O5,s.W2,s.Gu,s.sr,s.Sm,s.YG,s.gu,s.Q$,o.sg,s.q_,s.PM,s.Zi,s.tO,s.gZ,s.FN,s.Ie],styles:[".text[_ngcontent-%COMP%]{height:100%;text-align:center}.center-div[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;align-items:center;justify-content:center}"]}),t})()},4315:(t,e,n)=>{"use strict";n.d(e,{e:()=>o});var i=n(6274),r=n(4988),s=n(5401),a=n(3606);let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[i.ez,r.u5,s.Pc]]}),t})()},845:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Tab3PageModule:()=>x});var i=n(5401),r=n(3991),s=n(6274),a=n(4988),o=n(1855),c=n(3606),u=n(7104),l=n(5264),d=n(3059),g=n(3630);function h(t,e){if(1&t&&(c.TgZ(0,"ion-list"),c.TgZ(1,"ion-select-option",10),c._uU(2),c.qZA(),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.Q6J("value",t),c.xp6(1),c.Oqu(t)}}function Z(t,e){1&t&&(c.TgZ(0,"ion-grid",11),c.TgZ(1,"ion-row"),c.TgZ(2,"ion-col",12),c._UZ(3,"ion-spinner",13),c.qZA(),c.qZA(),c.qZA())}function f(t,e){if(1&t&&(c._UZ(0,"app-historial-transacciones",14),c.ALo(1,"filtro")),2&t){const t=c.oxw();c.Q6J("transferencias",c.Dn7(1,3,t.transferencias,t.textoBuscar,t.columnaBuscar))("isAdmin",t.currentUser.isAdmin)("menu",!1)}}function m(t,e){1&t&&(c.TgZ(0,"div",15),c.TgZ(1,"ion-card"),c.TgZ(2,"ion-header"),c.TgZ(3,"ion-toolbar"),c.TgZ(4,"ion-title"),c._uU(5,"Transacciones"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-card-content"),c.TgZ(7,"ion-item"),c.TgZ(8,"ion-label",16),c._uU(9,"Aun no has realizado ninguna transaccion"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())}let p=(()=>{class t{constructor(t,e,n,i){this.db=t,this.storage=e,this.router=n,this.toastController=i,this.transferencias=[],this.currentUser={usuario:void 0,isAdmin:!1},this.numeroCuenta="",this.campos=["destinatario","cta. destinatario","remitente","cta. remitente","fecha","numero transferencia","cantidad"],this.bubbles=!0,this.textoBuscar="",this.columnaBuscar="",this.bubbles=!0,this.init()}restart(){this.textoBuscar="",this.columnaBuscar=""}init(){return(0,o.mG)(this,void 0,void 0,function*(){this.restart(),this.currentUser=yield this.storage.getCurrentUser(),this.currentUser.isAdmin?this.db.getTransfers().then(t=>{this.transferencias=t.data.transferencias}):this.db.getUserTrans(this.currentUser.usuario).then(t=>{this.transferencias=t.data.trans}),this.bubbles=!1})}getColumnText(t){switch(t.detail.value){case"cta. destinatario":this.columnaBuscar="cuentaDest";break;case"cta. remitente":this.columnaBuscar="cuentaRemi";break;case"numero transferencia":this.columnaBuscar="id";break;default:this.columnaBuscar=t.detail.value}}onSearchChange(t){this.bubbles=!0,this.textoBuscar=t.detail.value,""===this.textoBuscar?this.bubbles=!1:""===this.columnaBuscar&&this.presentToast("Selecciona un campo","danger"),this.bubbles=!1}ionViewWillEnter(){return(0,o.mG)(this,void 0,void 0,function*(){this.currentUser=yield this.storage.getCurrentUser(),void 0===this.currentUser.usuario?(yield this.presentToast("Sesion expirada","danger"),this.router.navigate(["/"])):this.init()})}presentToast(t,e){return(0,o.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({cssClass:"center",message:t,duration:1e3,color:e})).present()})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(u.t),c.Y36(l.q),c.Y36(r.F0),c.Y36(i.yF))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-tab3"]],decls:15,vars:9,consts:[[3,"translucent"],["capitalize",""],["placeholder","Buscar transferencia","type","text",3,"debounce","value","ionChange"],["name","filter-outline"],["interface","popover","name","cuenta",3,"value","ionChange"],[4,"ngFor","ngForOf"],[3,"fullscreen"],["fixed","",4,"ngIf"],["numeroCuenta","",3,"transferencias","isAdmin","menu",4,"ngIf"],["class"," center-div",4,"ngIf"],[3,"value"],["fixed",""],[1,"ion-text-center"],["color","primary","name","bubbles"],["numeroCuenta","",3,"transferencias","isAdmin","menu"],[1,"center-div"],[1,"text"]],template:function(t,e){1&t&&(c.TgZ(0,"ion-header",0),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-title",1),c._uU(3," Historial "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-toolbar"),c.TgZ(5,"ion-searchbar",2),c.NdJ("ionChange",function(t){return e.onSearchChange(t)}),c.qZA(),c.TgZ(6,"ion-buttons"),c.TgZ(7,"ion-button"),c._UZ(8,"ion-icon",3),c.TgZ(9,"ion-select",4),c.NdJ("ionChange",function(t){return e.getColumnText(t)}),c.YNc(10,h,3,2,"ion-list",5),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"ion-content",6),c.YNc(12,Z,4,0,"ion-grid",7),c.YNc(13,f,2,7,"app-historial-transacciones",8),c.YNc(14,m,10,0,"div",9),c.qZA()),2&t&&(c.Q6J("translucent",!0),c.xp6(5),c.Q6J("debounce",700)("value",e.textoBuscar),c.xp6(4),c.Q6J("value",e.columnaBuscar),c.xp6(1),c.Q6J("ngForOf",e.campos),c.xp6(1),c.Q6J("fullscreen",!0),c.xp6(1),c.Q6J("ngIf",e.bubbles),c.xp6(1),c.Q6J("ngIf",!e.bubbles),c.xp6(1),c.Q6J("ngIf",void 0===e.transferencias||0===e.transferencias.length&&!e.bubbles))},directives:[i.Gu,i.sr,i.wd,i.VI,i.j9,i.Sm,i.YG,i.gu,i.t9,i.QI,s.sg,i.W2,s.O5,i.q_,i.n0,i.jY,i.Nd,i.wI,i.PQ,d.f,i.PM,i.FN,i.Ie,i.Q$],pipes:[g.m],styles:[""]}),t})();var A=n(4315);const b=[{path:"",component:p}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),t})();var q=n(9258),v=n(1041);let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.Pc,s.ez,a.u5,A.e,r.Bz.forChild([{path:"",component:p}]),T,q.K,v.D]]}),t})()}}]);