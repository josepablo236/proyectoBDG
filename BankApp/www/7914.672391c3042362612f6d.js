(self.webpackChunkBankApp=self.webpackChunkBankApp||[]).push([[7914],{7914:(e,n,t)=>{"use strict";t.r(n),t.d(n,{LoginPageModule:()=>p});var s=t(6274),r=t(4988),i=t(5401),o=t(3991),a=t(1855),u=t(3606),d=t(7104),c=t(5264);function g(e,n){1&e&&(u.TgZ(0,"ion-grid",9),u.TgZ(1,"ion-row"),u.TgZ(2,"ion-col",10),u._UZ(3,"ion-spinner",11),u.qZA(),u.qZA(),u.qZA())}const l=[{path:"",component:(()=>{class e{constructor(e,n,t,s,r){this.toastController=e,this.db=n,this.alertController=t,this.storage=s,this.router=r,this.bubbles=!1}ngOnInit(){}guardarCurrentUser(e,n){return(0,a.mG)(this,void 0,void 0,function*(){const t={usuario:e,isAdmin:n};yield this.storage.guardarCurrentUser(t)})}onSubmit(e){return(0,a.mG)(this,void 0,void 0,function*(){this.bubbles=!0,yield this.db.getUser(this.user,this.pass).then(n=>{"admin"===n?(this.presentToast("Succesful login","success"),this.guardarCurrentUser(this.user,!0),this.router.navigate(["/user/tabs/users"]),this.bubbles=!1,e.resetForm()):"user"===n?(this.presentToast("Succesful login","success"),this.guardarCurrentUser(this.user,!1),this.bubbles=!1,this.router.navigate(["/user/tabs/tab1"]),e.resetForm()):this.presentToast(n,"danger")}),this.bubbles=!1})}presentToast(e,n){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({cssClass:"center",message:e,duration:1e3,color:n})).present()})}}return e.\u0275fac=function(n){return new(n||e)(u.Y36(i.yF),u.Y36(d.t),u.Y36(i.Br),u.Y36(c.q),u.Y36(o.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-login"]],decls:18,vars:5,consts:[[1,"ion-padding",3,"fullscreen"],[1,"div-center"],["src","../../../assets/images/Piggy bank_Monochromatic.svg"],[1,"form",3,"ngSubmit"],["formulario","ngForm"],["slot","end","type","text","placeholder","Usuario","name","nombre","maxlength","10","required","",2,"text-align","right",3,"ngModel","ngModelChange"],["slot","end","type","Password","placeholder","Password","name","password","minlength","5","show-hide-input","","required","",2,"text-align","right",3,"ngModel","ngModelChange"],["type","submit","expand","block",1,"card-margin",3,"disabled"],["fixed","",4,"ngIf"],["fixed",""],[1,"ion-text-center"],["color","primary","name","bubbles"]],template:function(e,n){if(1&e){const e=u.EpF();u.TgZ(0,"ion-content",0),u.TgZ(1,"div",1),u._UZ(2,"ion-img",2),u.TgZ(3,"ion-card"),u.TgZ(4,"ion-card-content"),u.TgZ(5,"form",3,4),u.NdJ("ngSubmit",function(){u.CHM(e);const t=u.MAs(6);return n.onSubmit(t)}),u.TgZ(7,"ion-item-divider"),u.TgZ(8,"ion-label"),u._uU(9,"Usuario"),u.qZA(),u.TgZ(10,"ion-input",5),u.NdJ("ngModelChange",function(e){return n.user=e}),u.qZA(),u.qZA(),u.TgZ(11,"ion-item-divider"),u.TgZ(12,"ion-label"),u._uU(13,"Password"),u.qZA(),u.TgZ(14,"ion-input",6),u.NdJ("ngModelChange",function(e){return n.pass=e}),u.qZA(),u.qZA(),u.TgZ(15,"ion-button",7),u._uU(16," continue "),u.qZA(),u.qZA(),u.YNc(17,g,4,0,"ion-grid",8),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.MAs(6);u.Q6J("fullscreen",!0),u.xp6(10),u.Q6J("ngModel",n.user),u.xp6(4),u.Q6J("ngModel",n.pass),u.xp6(1),u.Q6J("disabled",e.invalid),u.xp6(2),u.Q6J("ngIf",n.bubbles)}},directives:[i.W2,i.Xz,i.PM,i.FN,r._Y,r.JL,r.F,i.rH,i.Q$,i.pK,i.j9,r.nD,r.Q7,r.JJ,r.On,r.wO,i.YG,s.O5,i.jY,i.Nd,i.wI,i.PQ],styles:[".card-margin[_ngcontent-%COMP%]{margin-top:20px}.img[_ngcontent-%COMP%]{width:80%;height:auto}"]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.Bz.forChild(l)],o.Bz]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[s.ez,r.u5,i.Pc,h]]}),e})()}}]);