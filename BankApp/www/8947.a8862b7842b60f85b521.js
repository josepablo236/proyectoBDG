(self.webpackChunkBankApp=self.webpackChunkBankApp||[]).push([[8947],{1150:(e,t,n)=>{"use strict";var o;n.d(t,{Z:()=>c});var r=new Uint8Array(16);function i(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(r)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&s.test(e)};for(var u=[],d=0;d<256;++d)u.push((d+256).toString(16).substr(1));const c=function(e,t,n){var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n}(o)}},8947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CreateUsersPageModule:()=>l});var o=n(6274),r=n(4988),i=n(5401),s=n(3991),a=n(7879),u=n(3606);const d=[{path:"",component:a.d}];let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[s.Bz.forChild(d)],s.Bz]}),e})(),l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,r.u5,i.Pc,c]]}),e})()},7879:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var o=n(1855),r=n(6637),i=n(6274),s=n(1150),a=n(3606),u=n(5401),d=n(7104),c=n(4988);let l=(()=>{class e{constructor(e,t,n){this.toastController=e,this.modalCtrl=t,this.db=n,this.minDate=(new Date).getFullYear()-18,this.user={usuario:"",password:"",rol:"",nombre:"",direccion:"",nacimiento:"",telefono:""},this.opt=[{val:"Monetaria",isChecked:!0},{val:"Ahorro",isChecked:!1}]}ngOnInit(){this.init()}init(){return(0,o.mG)(this,void 0,void 0,function*(){this.checked=!1,this.user.password="12345"})}crearCuentas(){return(0,o.mG)(this,void 0,void 0,function*(){const e={usuario:this.user.usuario,numeroCuenta:(0,s.Z)().substring(0,8),saldo:1e3,estado:"activa",tipo:"monetaria"};this.db.createMonetary(e),this.checked&&(e.numeroCuenta=(0,s.Z)().substring(0,8),e.tipo="ahorro",e.saldo=0,this.db.createAccount(e))})}crearUsuario(){return this.user.rol="usuario",this.user.estado="activa",this.db.createUser(this.user).then(e=>e?(this.presentToast("Usuario creado satisfactoriamente","success"),this.crearCuentas(),!0):(this.presentToast("Error al crear el usuario","danger"),!1)),!1}encrypt(){return r.AES.encrypt(this.user.password,"secret key 123").toString()}getDateItem(e){this.user.nacimiento=(0,i.p6)(e.detail.value,"yyyy-MM-dd","en-US")}isChecked(e){this.checked=!e.currentTarget.checked}salirModal(){this.modalCtrl.dismiss()}onSubmit(e){return(0,o.mG)(this,void 0,void 0,function*(){this.user.password=this.encrypt(),""!==this.user.nacimiento?(this.crearUsuario(),this.salirModal()):this.presentToast("Llena todos los campos","danger")})}presentToast(e,t){return(0,o.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,cssClass:"center",duration:1e3,color:t})).present()})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(u.yF),a.Y36(u.IN),a.Y36(d.t))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-create-users"]],decls:46,vars:7,consts:[["translucent","",1,"ion-no-border"],["slot","start"],["expand","block","fill","clear","shape","round",3,"click"],["slot","start","name","arrow-back-outline"],[1,"ion-text-capitalize"],[1,"div-center"],[3,"ngSubmit"],["formulario","ngForm"],["position","floating"],["maxlength","10","pattern","^([a-zA-Z0-9_\\-\\.]+)$","name","usuario","type","text","required","",3,"ngModel","ngModelChange"],["name","password","type","password","placeholder","password","show-hide-input","",3,"ngModel","ngModelChange"],["maxlength","25","pattern","^([a-zA-Z0-9_\\-\\.]+)$","name","nombre","type","text","required","",3,"ngModel","ngModelChange"],["maxlength","100","pattern","^([a-zA-Z0-9_\\-\\.]+)$","name","direccion","type","text","required","",3,"ngModel","ngModelChange"],["name","fecha","displayFormat","MMM DD, YYYY",3,"max","ionChange"],["maxlength","10","pattern","^([0-9_\\-\\.]+)$","name","telefono","inputmode","decimal","type","decimal","required","",3,"ngModel","ngModelChange"],[1,"margin-item"],["disabled","true","mode","ios","checked","true"],["checked","false","mode","ios",3,"click"],["expand","block","color","primary","type","submit",1,"ion-margin",3,"disabled"]],template:function(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"ion-header",0),a.TgZ(1,"ion-toolbar"),a.TgZ(2,"ion-buttons",1),a.TgZ(3,"ion-button",2),a.NdJ("click",function(){return t.salirModal()}),a._uU(4," regresar "),a._UZ(5,"ion-icon",3),a.qZA(),a.qZA(),a.TgZ(6,"ion-title",4),a._uU(7," Crear Usuario "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(8,"ion-content"),a.TgZ(9,"div",5),a.TgZ(10,"form",6,7),a.NdJ("ngSubmit",function(){a.CHM(e);const n=a.MAs(11);return t.onSubmit(n)}),a.TgZ(12,"ion-item-group"),a.TgZ(13,"ion-item"),a.TgZ(14,"ion-label",8),a._uU(15,"Usuario"),a.qZA(),a.TgZ(16,"ion-input",9),a.NdJ("ngModelChange",function(e){return t.user.usuario=e}),a.qZA(),a.qZA(),a.TgZ(17,"ion-item"),a.TgZ(18,"ion-label",8),a._uU(19,"Password"),a.qZA(),a.TgZ(20,"ion-input",10),a.NdJ("ngModelChange",function(e){return t.user.password=e}),a.qZA(),a.qZA(),a.TgZ(21,"ion-item"),a.TgZ(22,"ion-label",8),a._uU(23,"Nombre"),a.qZA(),a.TgZ(24,"ion-input",11),a.NdJ("ngModelChange",function(e){return t.user.nombre=e}),a.qZA(),a.qZA(),a.TgZ(25,"ion-item"),a.TgZ(26,"ion-label",8),a._uU(27,"Direccion"),a.qZA(),a.TgZ(28,"ion-input",12),a.NdJ("ngModelChange",function(e){return t.user.direccion=e}),a.qZA(),a.qZA(),a.TgZ(29,"ion-item"),a.TgZ(30,"ion-label",8),a._uU(31,"Fecha de Nacimiento"),a.qZA(),a.TgZ(32,"ion-datetime",13),a.NdJ("ionChange",function(e){return t.getDateItem(e)}),a.qZA(),a.qZA(),a.TgZ(33,"ion-item"),a.TgZ(34,"ion-label",8),a._uU(35,"Telefono"),a.qZA(),a.TgZ(36,"ion-input",14),a.NdJ("ngModelChange",function(e){return t.user.telefono=e}),a.qZA(),a.qZA(),a.TgZ(37,"ion-item",15),a._UZ(38,"ion-checkbox",16),a.TgZ(39,"ion-label"),a._uU(40,"Monetaria"),a.qZA(),a.TgZ(41,"ion-checkbox",17),a.NdJ("click",function(e){return t.isChecked(e)}),a.qZA(),a.TgZ(42,"ion-label"),a._uU(43,"Ahorro"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(44,"ion-button",18),a._uU(45," Crear Usuario "),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.MAs(11);a.xp6(16),a.Q6J("ngModel",t.user.usuario),a.xp6(4),a.Q6J("ngModel",t.user.password),a.xp6(4),a.Q6J("ngModel",t.user.nombre),a.xp6(4),a.Q6J("ngModel",t.user.direccion),a.xp6(4),a.Q6J("max",t.minDate),a.xp6(4),a.Q6J("ngModel",t.user.telefono),a.xp6(8),a.Q6J("disabled",e.invalid)}},directives:[u.Gu,u.sr,u.Sm,u.YG,u.gu,u.wd,u.W2,c._Y,c.JL,c.F,u.Ub,u.Ie,u.Q$,u.pK,u.j9,c.nD,c.c5,c.Q7,c.JJ,c.On,u.x4,u.QI,u.nz,u.w],styles:[""]}),e})()}}]);